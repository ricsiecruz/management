import './polyfills.server.mjs';
import{B,D as x,E as N,F as O,G as L,H as $,I as j,L as U,P as H,S as V,T as W,U as z,V as Z,a as E,b as D,c as b,d as h,e as c,f as _,g as p,h as a,i as d,j as w,k,l as S,m as f,n as r,o as s,p as g,q as I,r as C,s as A,t as T,y as R}from"./chunk-CA2N6AVI.mjs";var m=class i{constructor(n){this.http=n;console.log("api",this.API_URL)}API_URL="assets/data.json";getData(){return this.http.get(this.API_URL)}static \u0275fac=function(e){return new(e||i)(D(L))};static \u0275prov=E({token:i,factory:i.\u0275fac,providedIn:"root"})};function Y(i,n){if(i&1&&(a(0,"div",2),r(1),d()),i&2){let e=n.$implicit;p("routerLink",e.link),c(),g(" ",e.label," ")}}var P=class i{mainService=b(m);menu;constructor(){}ngOnInit(){this.mainService.getData().subscribe(n=>{this.menu=n.menu})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-sidebar"]],standalone:!0,features:[C],decls:2,vars:1,consts:[[1,"sidebar"],["routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active",3,"routerLink"]],template:function(e,t){e&1&&(a(0,"div",0),_(1,Y,2,2,"div",1),d()),e&2&&(c(),p("ngForOf",t.menu))},dependencies:[O,x,Z,V,W],styles:[".sidebar[_ngcontent-%COMP%]{width:216px;height:100vh;padding:22px;color:#e2eeff;background-color:#232e51}.sidebar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:8px 12px;margin-bottom:8px;border-radius:5px}.sidebar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#2f3a5f}.active[_ngcontent-%COMP%]{background-color:#2f3a5f}"]})};var M=class i{title="angular-app";data;mainService=b(m);menu;constructor(){}ngOnInit(){this.mainService.getData().subscribe(n=>{this.menu=n.link})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-root"]],standalone:!0,features:[I([m]),C],decls:4,vars:0,consts:[[1,"app"],[1,"app_content"]],template:function(e,t){e&1&&(a(0,"div",0),w(1,"app-sidebar"),a(2,"div",1),w(3,"router-outlet"),d()())},dependencies:[P,H],styles:[".app[_ngcontent-%COMP%]{display:flex}.app_content[_ngcontent-%COMP%]{width:100%;padding:20px}"]})};var ee=(i,n,e,t,o)=>[i,n,e,t,o],te=()=>["week1","week2","week3","week4","week5"];function ne(i,n){if(i&1&&(a(0,"div"),r(1),d()),i&2){let e=n.$implicit;c(),g(" ",e," ")}}function ie(i,n){if(i&1&&(a(0,"div",10)(1,"div"),r(2),d(),a(3,"div"),r(4),d(),a(5,"div"),r(6),d()()),i&2){let e=n.$implicit,t=f().index,o=f().index,l=f();c(2),s(e.rank?e.rank:"-"),c(2),s(e.totalBirds?e.totalBirds:"-"),c(2),s(l.getWeekAverage(t,o))}}function oe(i,n){if(i&1&&(k(0),_(1,ie,7,3,"div",9),S()),i&2){let e=n.$implicit;c(),p("ngForOf",e)}}function ae(i,n){if(i&1&&(a(0,"div",12)(1,"div"),r(2),d(),a(3,"div"),r(4),d(),a(5,"div"),r(6),d()()),i&2){let e=f().$implicit,t=f().$implicit,o=f();c(2),s(t.sdfaPoints[0][e].points),c(2),s(t.sdfaPoints[0][e].f),c(2),g(" ",o.calculateSdfaWeekAve(t.sdfaPoints[0][e].points,t.sdfaPoints[0][e].f)," aaa ")}}function de(i,n){if(i&1&&(k(0),_(1,ae,7,3,"div",11),S()),i&2){let e=n.$implicit,t=f().$implicit;c(),p("ngIf",t.sdfaPoints[0][e])}}function re(i,n){if(i&1&&(a(0,"div")(1,"div"),r(2),d(),a(3,"div"),r(4),d(),a(5,"div"),r(6),d(),a(7,"div"),r(8),d(),a(9,"div"),r(10),d(),_(11,oe,2,1,"ng-container",7),a(12,"div"),r(13),d(),a(14,"div"),r(15,"-"),d(),a(16,"div"),r(17,"-"),d(),a(18,"div"),r(19,"-"),d(),a(20,"div"),r(21),d(),_(22,de,2,1,"ng-container",7),a(23,"div"),r(24),d()()),i&2){let e=n.$implicit,t=n.index,o=f();c(2),s(e.id),c(2),s(e.line?e.line:"-"),c(2),s(e.family?e.family:"-"),c(2),s(e.sire?e.sire:"-"),c(2),s(e.dam?e.dam:"-"),c(),p("ngForOf",T(10,ee,e.week1,e.week2,e.week3,e.week4,e.week5)),c(2),s(o.upr[t]),c(8),s(e.id),c(),p("ngForOf",A(16,te)),c(2),g(" ",o.calculateSdfaUpr(e)," ")}}var v=class i{mainService=b(m);headers=[];data=[];weekOne=[];weekTwo=[];weekThree=[];weekFour=[];weekFive=[];upr=[];constructor(){}ngOnInit(){this.mainService.getData().subscribe(n=>{if(n.derbySdfa){this.headers=n.derbySdfa[0].headers,this.data=n.derbySdfa[1].data,console.log("data",this.data),this.data.forEach(t=>{t.week1&&t.week1.forEach(o=>{let l=o.totalBirds?parseFloat((o.rank/o.totalBirds).toFixed(2)):0;this.weekOne.push(l)})}),this.data.forEach(t=>{t.week2&&t.week2.forEach(o=>{let l=o.totalBirds?parseFloat((o.rank/o.totalBirds).toFixed(2)):0;this.weekTwo.push(l)})}),this.data.forEach(t=>{t.week3&&t.week3.forEach(o=>{let l=o.totalBirds?parseFloat((o.rank/o.totalBirds).toFixed(2)):0;this.weekThree.push(l)})}),this.data.forEach(t=>{t.week4&&t.week4.forEach(o=>{let l=o.totalBirds?parseFloat((o.rank/o.totalBirds).toFixed(2)):0;this.weekFour.push(l)})}),this.data.forEach(t=>{t.week5&&t.week5.forEach(o=>{let l=o.totalBirds?parseFloat((o.rank/o.totalBirds).toFixed(2)):0;this.weekFive.push(l)})});let e=this.weekOne.length;for(let t=0;t<e;t++){let o=(this.weekOne[t]||0)+(this.weekTwo[t]||0)+(this.weekThree[t]||0)+(this.weekFour[t]||0)+(this.weekFive[t]||0),l=parseFloat((o/5).toFixed(2));this.upr.push(l)}console.log("upr",this.upr)}})}getWeekAverage(n,e){switch(n){case 0:return this.weekOne[e]||0;case 1:return this.weekTwo[e]||0;case 2:return this.weekThree[e]||0;case 3:return this.weekFour[e]||0;case 4:return this.weekFive[e]||0;default:return 0}}calculateSdfaWeekAve(n,e){return n*e}calculateSdfaUpr(n){let e=["week1","week2","week3","week4","week5"],t=0,o=0;return e.forEach(l=>{if(n.sdfaPoints[0][l]){let K=n.sdfaPoints[0][l].points||0,Q=n.sdfaPoints[0][l].f||0;t+=this.calculateSdfaWeekAve(K,Q),o++}}),o>0?parseFloat((t/o).toFixed(2)):0}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-derby-sdfa"]],standalone:!0,features:[C],decls:17,vars:2,consts:[[1,"derby-sdfa"],[1,"derby-sdfa_cards"],[1,"derby-sdfa_cards_content"],[1,"derby-sdfa_cards_content_title"],[1,"derby-sdfa_cards_content_data"],[1,"derby-sdfa_table"],[1,"derby-sdfa_table_header"],[4,"ngFor","ngForOf"],[1,"derby-sdfa_table_content"],["class","derby-sdfa_table_content_week",4,"ngFor","ngForOf"],[1,"derby-sdfa_table_content_week"],["class","derby-sdfa_table_content_sdfa-points",4,"ngIf"],[1,"derby-sdfa_table_content_sdfa-points"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),r(4," Ave. UPR "),d(),a(5,"div",4),r(6," 0.52 "),d()(),a(7,"div",2)(8,"div",3),r(9," Ave Population "),d(),a(10,"div",4),r(11," 15.43 "),d()()(),a(12,"div",5)(13,"div",6),_(14,ne,2,1,"div",7),d(),a(15,"div",8),_(16,re,25,17,"div",7),d()()()),e&2&&(c(14),p("ngForOf",t.headers),c(2),p("ngForOf",t.data))},dependencies:[O,x,N],styles:[".derby-sdfa_cards[_ngcontent-%COMP%]{display:flex;column-gap:20px}.derby-sdfa_cards_content[_ngcontent-%COMP%]{background:#fff;border-radius:5px;width:157px;padding:24px;text-align:center;box-shadow:0 0 35px #6886b126}.derby-sdfa_cards_content_title[_ngcontent-%COMP%]{font-size:13px;color:#9ba6b7;margin-bottom:8px}.derby-sdfa_cards_content_data[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:#4c4c5c}.derby-sdfa_table[_ngcontent-%COMP%]{width:1217px;overflow-x:auto;border:1px solid #ddd}.derby-sdfa_table_header[_ngcontent-%COMP%]{display:flex;width:fit-content;background-color:#f4f6f9;font-weight:600;border-bottom:1px solid #ddd}.derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;padding:8px;white-space:nowrap;text-overflow:ellipsis}.derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{width:145px;flex:none}.derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){width:80px;flex:none}.derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){width:266px;flex:none}.derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){width:280px;flex:none}.derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){width:466px;flex:none}.derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(15), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(18){width:80px;flex:none}.derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(13), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(16), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(19){width:86px;flex:none}.derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(14), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(17), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(20){width:80px;flex:none}.derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(21){width:66px;flex:none}.derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(22){width:50px;flex:none}.derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(23){width:135px;flex:none}.derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(24){width:150px;flex:none}.derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(25){width:145px;flex:none}.derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(26), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(29), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(32), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(35), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(38){width:65px;flex:none}.derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(27), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(30), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(33), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(36), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(39){width:22px;flex:none}.derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(28), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(31), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(34), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(37), .derby-sdfa_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(40){width:70px;flex:none}.derby-sdfa_table_content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.derby-sdfa_table_content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex}.derby-sdfa_table_content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;padding:8px;text-align:center}.derby-sdfa_table_content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{width:145px;flex:none!important}.derby-sdfa_table_content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){width:80px;flex:none!important}.derby-sdfa_table_content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){width:266px;flex:none!important}.derby-sdfa_table_content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){width:280px;flex:none!important}.derby-sdfa_table_content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){width:466px;flex:none!important}.derby-sdfa_table_content_week[_ngcontent-%COMP%]{padding:0!important}.derby-sdfa_table_content_week[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{width:80px;flex:none!important}.derby-sdfa_table_content_week[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){width:86px;flex:none!important}.derby-sdfa_table_content_week[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){width:80px;flex:none!important}.derby-sdfa_table_content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){width:66px;flex:none!important}.derby-sdfa_table_content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){width:50px;flex:none!important}.derby-sdfa_table_content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(13){width:135px;flex:none!important}.derby-sdfa_table_content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(14){width:150px;flex:none!important}.derby-sdfa_table_content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(15){width:145px;flex:none!important}.derby-sdfa_table_content_sdfa-points[_ngcontent-%COMP%]{padding:0!important}.derby-sdfa_table_content_sdfa-points[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{width:65px;flex:none!important}.derby-sdfa_table_content_sdfa-points[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){width:22px;flex:none!important}.derby-sdfa_table_content_sdfa-points[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){background-color:pink;width:70px;flex:none!important}"]})};var y=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-database"]],decls:2,vars:0,template:function(e,t){e&1&&(a(0,"p"),r(1,"database works!"),d())}})};var q=[{path:"",component:v},{path:"derby-sdfa",component:v},{path:"database",component:y}];var G={providers:[$(),R({eventCoalescing:!0}),z(q)]};var ce={providers:[U()]},J=B(G,ce);var le=()=>j(M,J),Qe=le;export{Qe as a};
