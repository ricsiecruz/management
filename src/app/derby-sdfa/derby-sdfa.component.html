<div class="derby-sdfa">
    <div class="derby-sdfa_cards">
        <div class="derby-sdfa_cards_content">
            <div class="derby-sdfa_cards_content_title">
                Ave. UPR
            </div>
            <div class="derby-sdfa_cards_content_data">
                0.52
            </div>
        </div>
        <div class="derby-sdfa_cards_content">
            <div class="derby-sdfa_cards_content_title">
                Ave Population
            </div>
            <div class="derby-sdfa_cards_content_data">
                15.43
            </div>
        </div>
    </div>
    <div class="derby-sdfa_table">
        <div class="derby-sdfa_table_header">
            <div *ngFor="let item of headers">
                {{ item }}
            </div>
        </div>
        <div class="derby-sdfa_table_content">
            <div *ngFor="let item of data; let i = index">
                <div>{{ item.id }}</div>
                <div>{{ item.line ? item.line : '-' }}</div>
                <div>{{ item.family ? item.family : '-' }}</div>
                <div>{{ item.sire ? item.sire : '-' }}</div>
                <div>{{ item.dam ? item.dam : '-' }}</div>
                <ng-container *ngFor="let weekData of [item.week1, item.week2, item.week3, item.week4, item.week5]; let weekIndex = index">
                    <div *ngFor="let week of weekData" class="derby-sdfa_table_content_week">
                        <div>{{ week.rank ? week.rank : '-' }}</div>
                        <div>{{ week.totalBirds ? week.totalBirds : '-' }}</div>
                        <div>{{ getWeekAverage(weekIndex, i) }}</div>
                    </div>
                </ng-container>
                <div>{{ upr[i] }}</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>{{ item.id }}</div>
                <ng-container *ngFor="let weekKey of ['week1', 'week2', 'week3', 'week4', 'week5']; let weekIndex = index">
                    <div *ngIf="item.sdfaPoints[0][weekKey]" class="derby-sdfa_table_content_sdfa-points">
                        <div>{{ item.sdfaPoints[0][weekKey].points }}</div>
                        <div>{{ item.sdfaPoints[0][weekKey].f }}</div>
                        <div>
                            {{ calculateSdfaWeekAve(item.sdfaPoints[0][weekKey].points, item.sdfaPoints[0][weekKey].f) }} aaa
                        </div>
                    </div>
                </ng-container>
                <div>
                    {{ calculateSdfaUpr(item) }}
                </div>
            
            </div>
        </div>
    </div>
</div>